<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="og:title" content="KVG Disease Predictor">
  <meta name="author" content="VENU GOPAL KADAMBA">
  <meta name="og:image" content="static/logo1.png">
  <meta name="Keywords" content="Flask, Machine Learning, Deep Learning, Artificial Intelligence, AI, ML,DL, Web Development">
  <meta name="description" content="A Machine Learning and Deep Learning based webapp for Multiple Disease Prediction.">
  <link rel="icon" type="image/x-icon" href="icon.png">
  <title>Diabetes</title>
  <link rel="icon" href="{{ url_for('static', filename = 'logo1.png') }}" type="image/icon type">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link rel="canonical" href="https://getbootstrap.com/docs/4.0/examples/sticky-footer/">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

    <link href='https://fonts.googleapis.com/css?family=Inika' rel='stylesheet'>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
</head>


<body>
	<nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="logo.png" alt="Bootstrap" width="170">
              </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav" >
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Report Analyser</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Disease Prediction</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">AI Consultation</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
	<br>
<br>


<main>
	<div class="container-fluid" style="margin-bottom: 20px;">

	<!-- ____ -->
    <div class="row">
        <div class="col-md-3"></div>
        <div class="col-md-6">
            <center><h1>Diabetes Predictor</h1></center>
            <div class="card card-body" style="border: 1px solid black;">
                <form class="form-horizontal" action="{{ url_for('predictPage') }}" method="POST">
                    <div class="form-group">
                        <input style="border: 1px solid black;" class="form-control" type="text" name="pregnancies" placeholder="Number of Pregnancies eg. 0">
                    </div>
            		<div class="form-group">
                        <input style="border: 1px solid black;" class="form-control" type="text" name="glucose" placeholder="Glucose (mg/dL) eg. 80">
                    </div>
            		<div class="form-group">
                        <input style="border: 1px solid black;" class="form-control" type="text" name="bloodpressure" placeholder="Blood Pressure (mmHg) eg. 80">
                    </div>
            		<div class="form-group">
                        <input style="border: 1px solid black;" class="form-control" type="text" name="skinthickness" placeholder="Skin Thickness (mm) eg. 20">
                    </div>
            		<div class="form-group">
                        <input style="border: 1px solid black;" class="form-control" type="text" name="insulin" placeholder="Insulin Level (IU/mL) eg. 80">
                    </div>
            		<div class="form-group">
                        <input style="border: 1px solid black;" class="form-control" type="text" name="bmi" placeholder="Body Mass Index (kg/mÂ²) eg. 23.1">
                    </div>
            		<div class="form-group">
                        <input style="border: 1px solid black;" class="form-control" type="text" name="dpf" placeholder="Diabetes Pedigree Function eg. 0.52">
                    </div>
            		<div class="form-group">
                        <input style="border: 1px solid black;" class="form-control" type="text" name="age" placeholder="Age (years) eg. 34">
                    </div>

            		<input type="submit" class="btn btn-info btn-block" value="Predict">
                </form>
            </div>
        </div>
        <div class="col-md-3"></div>
    </div>
	<!-- ____ -->


    </div>
  </main>


  <script>  
    // Function to handle form submission
    document.querySelector('form').addEventListener('submit', function(event) {
      event.preventDefault(); // Prevent the default form submission behavior
      
      // Serialize form data
      var formData = new FormData(event.target);
      var serializedFormData = "";
      for (var pair of formData.entries()) {
        serializedFormData += encodeURIComponent(pair[0]) + "=" + encodeURIComponent(pair[1]) + "&";
      }
      
      // Trim the trailing '&' character
      serializedFormData = serializedFormData.slice(0, -1);
  
      // Create a new XMLHttpRequest object
      var xhr = new XMLHttpRequest();
  
      // Define the callback function to handle the response
      xhr.onreadystatechange = function() {
        if (xhr.readyState === XMLHttpRequest.DONE) {
          if (xhr.status === 200) {
            // If the request was successful, display the output in a popup
            showOutput(xhr.responseText);
          } else {
            // If there was an error, log it
            console.error('Error:', xhr.status);
          }
        }
      };
  
    
      xhr.open('POST', '/predictPage', true); //kushaagra ki bakwaas
  
      // Set the Content-Type header
      xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
  
      // Send the serialized form data
      xhr.send(serializedFormData);
    });
    function showOutput(responseText) {
      // Open a new window with the output content
      var popupWindow = window.open("", "Output", "width=600,height=400");
      popupWindow.document.write("<html><head><title>Output</title></head><body>");
      popupWindow.document.write("<h2>Output</h2>");
      popupWindow.document.write("<p>" + responseText + "</p>");
      popupWindow.document.write("</body></html>");
    }
  </script>
  

</body>
</html>